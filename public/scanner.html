<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escaner de IMEI</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header id="welcome-header">
        <h2 id="welcome-message"></h2>
        <div class="header-actions">
       <button id="change-client-btn" class="header-action-btn btn-primary">Cambiar de Código SAP</button>
        <button id="logout-btn" class="header-action-btn btn-logout">Cerrar Sesión</button>
</div>
    </header>

    <main class="container">
        <h3>1. Selecciona la Campaña y el Modelo</h3>
        <div class="select-container">
            <select id="bajas-select">
                <option value="">Cargando campañas...</option>
            </select>
            <select id="modelos-select" disabled>
                <option value="">Selecciona una campaña primero</option>
            </select>
        </div>

        <h3>2. Escanea o Ingresa el IMEI</h3>
        
        <!-- INICIO: Contenedor para el lector y el botón de cambio -->
        <div id="reader-container">
            <div id="reader"></div>
            <button id="switch-camera-btn" style="display: none;">
                <!-- Icono SVG para cambiar cámara -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"></path><circle cx="12" cy="13" r="3"></circle></svg>
            </button>
        </div>
        <!-- FIN: Contenedor -->
        
        <div id="manual-entry-container">
            <input type="text" id="manual-imei-input" placeholder="O ingresa el IMEI manualmente" maxlength="15" inputmode="numeric">
            <button id="manual-imei-btn">Añadir</button>
        </div>
        
        <h3>3. IMEIs Registrados (<span id="imei-count">0</span>)</h3>
        <ul id="imeis-list"></ul>
    </main>

    <footer class="footer">
        <button id="submit-btn" disabled>Enviar Registros</button>
    </footer>

    <!-- Librerías -->
    <script src="https://unpkg.com/html5-qrcode/html5-qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/exceljs/4.3.0/exceljs.min.js"></script>
    <script src="app.js"></script>
</body>
</html>

